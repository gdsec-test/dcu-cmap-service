<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/">
    <soap:Body soap:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
        <snp:GetShopperIdByDomainName xmlns:snp="urn:RegDBWebSvcService">
            <ResultsXML>
                &lt;GetShopperIdByDomainName&gt;
                    &lt;RECORDSET&gt;
                        &lt;RECORD&gt;
                        {{#assign 'domainRequested'}}{{xPath request.body '//DomainName[1]/text()'}}{{/assign}}
                        {{regexExtract domainRequested '^stub(registered|foreign)(\d{9}|random)(\d{9}|random)(diablo|gocentral|mwpone|foreign)(\d{9}|random)([0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}|random)-.*\.com$' 'fields'}}
                            &lt;SHOPPER_ID&gt;{{#if (eq fields.2 'random')}}{{randomValue length=9 type='NUMERIC'}}{{else}}{{fields.2}}{{/if}}&lt;/SHOPPER_ID&gt;
                        &lt;/RECORD&gt;
                    &lt;/RECORDSET&gt;
                &lt;/GetShopperIdByDomainName&gt;
            </ResultsXML>
        </snp:GetShopperIdByDomainName>
    </soap:Body>
</soap:Envelope>